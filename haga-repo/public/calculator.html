<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Calculator + Globe — Håga</title>
    <link rel="stylesheet" href="/calculator.css" />
    <style>
      .switch {
        position: relative;
        display: inline-block;
        width: 44px;
        height: 26px;
      }
      .switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }
      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #4ade80;
        transition: 0.3s;
        border-radius: 26px;
      }
      .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 3px;
        bottom: 3px;
        background-color: white;
        transition: 0.3s;
        border-radius: 50%;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      }
      input:checked + .slider {
        background-color: #60a5fa;
      }
      input:checked + .slider:before {
        transform: translateX(18px);
      }
    </style>
  </head>
  <body>
    <main class="layout">
      <section class="calculator">
        <h1 style="display:flex; align-items:center; gap:12px;">
          Simple Calculator
          <div style="display:flex; align-items:center; gap:8px;">
            <span id="modeLabel" style="font-size:13px; font-weight:bold; color:#0a5f38;">LAT</span>
            <label class="switch">
              <input type="checkbox" id="modeToggle">
              <span class="slider"></span>
            </label>
          </div>
        </h1>
        <div class="display">
          <input id="calcDisplay" readonly />
        </div>

        <div class="keys">
          <button data-val="7">7</button><button data-val="8">8</button><button data-val="9">9</button><button data-op="/">÷</button>
          <button data-val="4">4</button><button data-val="5">5</button><button data-val="6">6</button><button data-op="*">×</button>
          <button data-val="1">1</button><button data-val="2">2</button><button data-val="3">3</button><button data-op="-">−</button>
          <button data-val="0">0</button><button data-val=".">.</button><button id="eq">=</button><button data-op="+">+</button>
          <button id="clear" class="wide">C</button>
        </div>

        <div id="calcResult" class="info">Enter expression and press =</div>
      </section>

      <section class="globe">
        <h2>Globe (latitude result)</h2>
        <canvas id="globeCanvas" aria-label="Globe"></canvas>
        <div id="weatherInfo" class="info">Result between -90 and 90 will fetch nearest city & temperature (°C).</div>
        <div class="info" style="margin-top:8px; display:flex; gap:8px; align-items:center;">
          <label for="coordsText" style="font-size:12px; color:#333;">Coords:</label>
          <div id="coordsText" aria-live="polite" style="flex:1; font-size:12px; padding:4px; color:#111;">Lat: —, Lon: —</div>
        </div>
        <!-- Longitude controls removed -->
      </section>
    </main>

    <script src="https://unpkg.com/topojson@3"></script>
    <script src="/globe.js"></script>
    <script src="/calculator.js"></script>
  </body>
</html>
